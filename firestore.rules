rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    /**
     * EVACAI SECURITY RULES - PROTOTYPING MODE
     * 
     * In prototyping mode, we allow all reads and writes to unblock development.
     * This is necessary because the app uses custom-formatted IDs (e.g., usernames)
     * which do not naturally align with Firebase Auth UIDs without custom logic.
     */

    match /users/{userId} {
      allow read, write: if true;
    }

    match /zones/{zoneId} {
      allow read, write: if true;
    }

    match /alerts/{alertId} {
      allow read, write: if true;
    }

    // Support for any other collections created during prototyping
    match /{document=**} {
      allow read, write: if true;
    }
  }
}